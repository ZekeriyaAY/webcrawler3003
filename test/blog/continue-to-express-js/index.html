<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    
    <title>üêß Continue to Express.js - Berkay √áubuk</title>
    <meta property="og:title" content="Continue to Express.js - Berkay √áubuk">
    <meta name="twitter:title" content="Continue to Express.js - Berkay √áubuk">
    <meta itemprop="name" content="Continue to Express.js - Berkay √áubuk">
    <meta name="application-name" content="Continue to Express.js - Berkay √áubuk">
    <meta name="og:site_name" content="Continue to Express.js - Berkay √áubuk">
    
      <meta name="description" content="Computer Engineer, who can talk with computers &amp; websites">
      <meta itemprop="description" content="Computer Engineer, who can talk with computers &amp; websites">
      <meta property="og:description" content="Computer Engineer, who can talk with computers &amp; websites">
      <meta name="twitter:description" content="Computer Engineer, who can talk with computers &amp; websites">
    
    <meta name="robots" content="index,follow">
    <meta name="HandheldFriendly" content="True">

    
    <link rel="stylesheet" type="text/css" href="http://localhost:5500//css/prism.css" />
    <link rel="stylesheet" type="text/css" href="http://localhost:5500//css/main.css" />

    </head>
<body>

      <header>
    <div class="title">Berkay √áubuk</div>
    <nav>
        <a href="/">Home</a>
        <a href="/blog">Blog</a>
        <a href="/about">About</a>
        <a href="/contact">Contact</a>
    </nav>
</header>


      
      <main>
<section>
  <h1>Continue to Express.js</h1>
  
  <p class="comment">// Created at: Feb 23, 2021</p>
  
</section>

<section class="post-content">
  <p>With Express.js we can use requests and responses. Request is coming to Express and response is going from Express.</p>
<h2 id="sending-a-response">Sending a Response</h2>
<p>With Express we can easly send responses. With this code we&rsquo;re sending string as a response:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">send</span>(<span style="color:#e6db74">&#39;Hi&#39;</span>)
</span></span></code></pre></div><p>If we want to send json response:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">json</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Hi&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Berkay&#39;</span>
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><h3 id="response-types">Response Types</h3>
<p>We can change response types as well:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">type</span>(<span style="color:#e6db74">&#39;html&#39;</span>) <span style="color:#75715e">// text/html
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">type</span>(<span style="color:#e6db74">&#39;json&#39;</span>) <span style="color:#75715e">// application/json
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">type</span>(<span style="color:#e6db74">&#39;png&#39;</span>)  <span style="color:#75715e">// image/png
</span></span></span></code></pre></div><h3 id="response-headers">Response Headers</h3>
<p>Changing headers are easy:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;Authorization&#39;</span>, <span style="color:#e6db74">&#39;token&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;Content-Type&#39;</span>, <span style="color:#e6db74">&#39;application/json&#39;</span>)
</span></span></code></pre></div><h3 id="response-cookies">Response Cookies</h3>
<p>Sometimes we&rsquo;ll want to add cookies to our responses:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">cookie</span>(<span style="color:#e6db74">&#39;token&#39;</span>, <span style="color:#e6db74">&#39;supersecrettoken&#39;</span>)
</span></span></code></pre></div><p>You can also delete cookies</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">clearCookie</span>(<span style="color:#e6db74">&#39;token&#39;</span>)
</span></span></code></pre></div><h3 id="response-status">Response Status</h3>
<p>We can set our response status:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span>(<span style="color:#ae81ff">404</span>).<span style="color:#a6e22e">json</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Not found&#39;</span>
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><p>You can do the samething with a shortcut:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">sendStatus</span>(<span style="color:#ae81ff">404</span>) <span style="color:#75715e">// =&gt; res.status(404).send(&#39;Not found&#39;)
</span></span></span></code></pre></div><h3 id="response-redirect">Response Redirect</h3>
<p>With a simple response you can redirect your users:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">redirect</span>(<span style="color:#e6db74">&#39;http://localhost:5500&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">redirect</span>(<span style="color:#e6db74">&#39;./&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">redirect</span>(<span style="color:#e6db74">&#39;back&#39;</span>) <span style="color:#75715e">// sending users back
</span></span></span></code></pre></div><h2 id="routing">Routing</h2>
<p>Routes are simply directions where we are accepting requests. For example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;/login&#39;</span>, (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {})
</span></span></code></pre></div><p>In this example, we opened our gates for the &ldquo;/login&rdquo; address, but only for get request.</p>
<h3 id="routes-with-parameters">Routes With Parameters</h3>
<p>We want to create a blog and we have &ldquo;/post&rdquo; route. Our visitors will be normal people so they are not using any API tools, they will use their browser to access our website. What if they only want to see a single post? We have to get some data with the url, to do that:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;/post/:postName&#39;</span>, (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">send</span>(<span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">postName</span>)
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><p>This example sends user back the parameter.</p>
<h2 id="middleware">Middleware</h2>
<p>Middlewares are a function that we can connect to routes. We can run it in all requests or we can run it on specific requests. They all can work together, that means you can use multiple middlewares. Let&rsquo;s understand it with an example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">express</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;express&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">express</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">express</span>.<span style="color:#a6e22e">json</span>())
</span></span></code></pre></div><p>In this example we used Express&rsquo;s built in json function. It helps us to use json in our responses and requests. It runs in every request. Time to create our own and adding it to specific routes.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">myMiddleFunc</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>, <span style="color:#a6e22e">next</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// do what you want in here
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">next</span>() <span style="color:#75715e">// sending the ball to the next one
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;/&#39;</span>, <span style="color:#a6e22e">myMiddleFunc</span>, (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {})
</span></span></code></pre></div><p>With this, we created simple ¬†function that does what you want and when it&rsquo;s finish it&rsquo;s job, going to next middleware. To add middlewares to specific routes, we can pass them to route as a parameter.</p>

</section>

      </main>
      

      <footer>
    <p class="text-center"><span class="comment">// Last update: Oct 30, 2022 20:27 (&#43;03)</span></p>
    <div class="d-flex justify-content-center">
        <a href="/privacy">Privacy</a>
    </div>
</footer>


      

      
      <script src="http://localhost:5500/js/prism.js"></script>
    </body>
</html>
